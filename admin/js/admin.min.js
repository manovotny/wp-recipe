!function(a){"use strict";function b(a){var b=_.uniqueId(m.id+"-");a.prev().attr("for",b),a.attr("id",b)}function c(a,b,c){var d=m.id+"["+b+"]";c&&(d+=c),a.attr("name",d)}function d(d,e,f){var g,h=d.find("> input");f&&b(h),c(h,e,"[group]"),d.find(".ingredient").each(function(){g=a(this).find("> input"),f&&b(g),c(g,e,"[]")})}function e(a,d,e){var f=a.find("> input");e&&b(f),c(f,d)}function f(b){var c,f=a(".ingredients > li");f.each(function(f){c=a(this),c.hasClass("ingredient-group")?d(c,f,b):e(c,f,b)})}function g(a){a.preventDefault(),f()}function h(c){c.preventDefault();var d=a(l.markup),e=d.find("input");b(e),a(m.list).append(d),d.find(l.remove).on("click",g),f()}function i(b){b.preventDefault();var c=a(b.currentTarget).parents(m.item).remove();c.find(m.remove).off("click",i),f()}function j(c){c.preventDefault();var d=a(m.markup),e=d.find("input");b(e),a(m.list).append(d),d.find(m.remove).on("click",i),f()}function k(){f(!0),a(l.add).on("click",h),a(l.remove).on("click",g),a(m.add).on("click",j),a(m.remove).on("click",i)}var l={add:"."+phpData.ingredient.group.classes.add,markup:"."+phpData.ingredient.group.markup,remove:"."+phpData.ingredient.group.classes.remove},m={add:"."+phpData.ingredient.classes.add,id:phpData.ingredient.id,item:"."+phpData.ingredient.classes.item,list:"."+phpData.ingredient.classes.list,markup:phpData.ingredient.markup,remove:"."+phpData.ingredient.classes.remove};k()}(jQuery);